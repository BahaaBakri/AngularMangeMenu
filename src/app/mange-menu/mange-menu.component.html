<h2 style="text-align:center">Mange Menu</h2>
<div class="demo-button-container">
    <button mat-stroked-button color="primary" (click)="addData()" class="demo-button">
      Add item
    </button>
    <button
        mat-stroked-button
        color="warn"
        [disabled]="!dataSource.length"
        (click)="removeAllData()"
        class="demo-button">
      Remove all items
    </button>
  </div>
  <!--
      Main Table
  -->
  <table id="mainTable"
        mat-table cdkDropList
        [cdkDropListData]="dataSource"
        (cdkDropListDropped)="onListDrop($event)"
        [dataSource]="dataSource"
        class="mat-elevation-z8 mainTable">

    <!-- Ranking Column -->
    <ng-container matColumnDef="ranking">
        <th mat-header-cell *matHeaderCellDef>Ranking</th>
        <td mat-cell *matCellDef="let element; let i=index">{{i+1}}</td>
      </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{element.name}}</td>
    </ng-container>
  
    <!-- Link Column -->
    <ng-container matColumnDef="link">
      <th mat-header-cell *matHeaderCellDef>Link</th>
      <td mat-cell *matCellDef="let element">{{element.link}}</td>
    </ng-container>

    <!-- Children Column -->
    <ng-container matColumnDef="children">
        <th mat-header-cell *matHeaderCellDef>Sub Items</th>
        <td mat-cell *matCellDef="let element">
                <!-- Second Table (for children)-->
                <table *ngIf="element.children.length !== 0" class="secondTable">
                    <thead>
                        <th mat-header-cell>Name</th>
                        <th mat-header-cell>Link</th>
                    </thead>
                    <ng-container *ngFor="let child of element.children">
                        <tr>
                            <td mat-cell>{{child.name}}</td>
                            <td mat-cell>{{child.link}}</td>
                        </tr>
                    </ng-container>
                </table>
        </td>
    </ng-container>
    <!-- Control Column -->
    <ng-container matColumnDef="control">
        <th mat-header-cell *matHeaderCellDef>Control</th>
        <td mat-cell *matCellDef="let element; let i = index">
            <mat-icon class="editIcon" matSuffix matTooltip="Edit"  (click)="editData(i)">edit</mat-icon>
            <mat-icon class="deleteIcon" matSuffix matTooltip="Delete"   (click)="deleteData(i)">delete</mat-icon>

        </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row cdkDrag [cdkDragData]="row" *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  